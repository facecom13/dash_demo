<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <title>Document</title>

</head>
<body>
    <div class="container">
        <div style="width: 50%; margin-top: 50px">
            <h4>Регистрация</h4>
            <form method="POST"  action="{{ url_for('home.registration_view')}}">
                {{ form.csrf_token }}
                 <div class="form-group">
                        {{ form.name_form.label }}
                        {{ form.name_form (class ='form-control', type="text", id='name_form')}}
                    <br>
                          {% for error in form.name_form.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                          {% endfor %}
                 </div>

                <div class="form-group">
                        {{ form.last_name_form.label }}
                        {{ form.last_name_form (class ='form-control', type="text", id='last_name_form')}}
                    <br>
                          {% for error in form.last_name_form.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                          {% endfor %}
                 </div>
                <div class="form-group">
                        {{ form.email_form.label }}
                        {{ form.email_form (class ='form-control', type="email", id='user_login_form')}}
                <small style="color: red" id="login_error"></small>
                    <br>
                          {% for error in form.email_form.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                          {% endfor %}

                 </div>


                <div class="form-group">
                        {{ form.password_form.label }}
                        {{ form.password_form (class ='form-control passwrd', type="password")}}
                    <br>
                          {% for error in form.password_form.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                          {% endfor %}
                 </div>


                <div class="form-check">
                        {{ form.show_password.label (class="form-check-label")}}
                        {{ form.show_password (class="form-check-input passwrd")}}
                    <br>
                          {% for error in form.show_password.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                          {% endfor %}
                 </div>

                <div class="form-group" style="margin-top: 15px">
                        <button type="submit" class="btn btn-primary">Сохранить</button>
                 </div>



            </form>
        </div>


    </div>


<script src="{{ url_for('static', filename='js/jquery.js') }}"></script>

<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>

    <script>
        $(document).ready(function(){

            // console.log({{ data | safe }})


            var data_dict = {{ data | safe }};

            var user_name = data_dict.user_name;
            $("#name_form").val(user_name);

            var user_last_name = data_dict.user_last_name;
            $("#last_name_form").val(user_last_name);

            var user_login = data_dict.user_login;
            $("#user_login_form").val(user_login);

            var user_password = data_dict.user_password;
            $(".passwrd").val(user_password);

            var login = data_dict.login_message;

            $('#login_error').text(login);

            if ($('.form-check-input').is(':checked')){
                $('#pswd').get(0).type = 'text';
            } else {
                $('#pswd').get(0).type = 'password';

            }

            $('.form-check-input').click(function(){
                if ($('.form-check-input').is(':checked')){

                    $('#pswd').get(0).type = 'text';
                } else {

                    $('#pswd').get(0).type = 'password';
                }
            })
    })
    </script>



</body>
</html>